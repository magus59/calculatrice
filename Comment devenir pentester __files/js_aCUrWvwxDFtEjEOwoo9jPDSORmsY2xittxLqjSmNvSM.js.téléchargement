/*!
  hey, [be]Lazy.js - v1.8.2 - 2016.10.25
  A fast, small and dependency free lazy load script (https://github.com/dinbror/blazy)
  (c) Bjoern Klinggaard - @bklinggaard - http://dinbror.dk/blazy
*/
  (function(q,m){"function"===typeof define&&define.amd?define(m):"object"===typeof exports?module.exports=m():q.Blazy=m()})(this,function(){function q(b){var c=b._util;c.elements=E(b.options);c.count=c.elements.length;c.destroyed&&(c.destroyed=!1,b.options.container&&l(b.options.container,function(a){n(a,"scroll",c.validateT)}),n(window,"resize",c.saveViewportOffsetT),n(window,"resize",c.validateT),n(window,"scroll",c.validateT));m(b)}function m(b){for(var c=b._util,a=0;a<c.count;a++){var d=c.elements[a],e;a:{var g=d;e=b.options;var p=g.getBoundingClientRect();if(e.container&&y&&(g=g.closest(e.containerClass))){g=g.getBoundingClientRect();e=r(g,f)?r(p,{top:g.top-e.offset,right:g.right+e.offset,bottom:g.bottom+e.offset,left:g.left-e.offset}):!1;break a}e=r(p,f)}if(e||t(d,b.options.successClass))b.load(d),c.elements.splice(a,1),c.count--,a--}0===c.count&&b.destroy()}function r(b,c){return b.right>=c.left&&b.bottom>=c.top&&b.left<=c.right&&b.top<=c.bottom}function z(b,c,a){if(!t(b,a.successClass)&&(c||a.loadInvisible||0<b.offsetWidth&&0<b.offsetHeight))if(c=b.getAttribute(u)||b.getAttribute(a.src)){c=c.split(a.separator);var d=c[A&&1<c.length?1:0],e=b.getAttribute(a.srcset),g="img"===b.nodeName.toLowerCase(),p=(c=b.parentNode)&&"picture"===c.nodeName.toLowerCase();if(g||void 0===b.src){var h=new Image,w=function(){a.error&&a.error(b,"invalid");v(b,a.errorClass);k(h,"error",w);k(h,"load",f)},f=function(){g?p||B(b,d,e):b.style.backgroundImage='url("'+d+'")';x(b,a);k(h,"load",f);k(h,"error",w)};p&&(h=b,l(c.getElementsByTagName("source"),function(b){var c=a.srcset,e=b.getAttribute(c);e&&(b.setAttribute("srcset",e),b.removeAttribute(c))}));n(h,"error",w);n(h,"load",f);B(h,d,e)}else b.src=d,x(b,a)}else"video"===b.nodeName.toLowerCase()?(l(b.getElementsByTagName("source"),function(b){var c=a.src,e=b.getAttribute(c);e&&(b.setAttribute("src",e),b.removeAttribute(c))}),b.load(),x(b,a)):(a.error&&a.error(b,"missing"),v(b,a.errorClass))}function x(b,c){v(b,c.successClass);c.success&&c.success(b);b.removeAttribute(c.src);b.removeAttribute(c.srcset);l(c.breakpoints,function(a){b.removeAttribute(a.src)})}function B(b,c,a){a&&b.setAttribute("srcset",a);b.src=c}function t(b,c){return-1!==(" "+b.className+" ").indexOf(" "+c+" ")}function v(b,c){t(b,c)||(b.className+=" "+c)}function E(b){var c=[];b=b.root.querySelectorAll(b.selector);for(var a=b.length;a--;c.unshift(b[a]));return c}function C(b){f.bottom=(window.innerHeight||document.documentElement.clientHeight)+b;f.right=(window.innerWidth||document.documentElement.clientWidth)+b}function n(b,c,a){b.attachEvent?b.attachEvent&&b.attachEvent("on"+c,a):b.addEventListener(c,a,{capture:!1,passive:!0})}function k(b,c,a){b.detachEvent?b.detachEvent&&b.detachEvent("on"+c,a):b.removeEventListener(c,a,{capture:!1,passive:!0})}function l(b,c){if(b&&c)for(var a=b.length,d=0;d<a&&!1!==c(b[d],d);d++);}function D(b,c,a){var d=0;return function(){var e=+new Date;e-d<c||(d=e,b.apply(a,arguments))}}var u,f,A,y;return function(b){if(!document.querySelectorAll){var c=document.createStyleSheet();document.querySelectorAll=function(a,b,d,h,f){f=document.all;b=[];a=a.replace(/\[for\b/gi,"[htmlFor").split(",");for(d=a.length;d--;){c.addRule(a[d],"k:v");for(h=f.length;h--;)f[h].currentStyle.k&&b.push(f[h]);c.removeRule(0)}return b}}var a=this,d=a._util={};d.elements=[];d.destroyed=!0;a.options=b||{};a.options.error=a.options.error||!1;a.options.offset=a.options.offset||100;a.options.root=a.options.root||document;a.options.success=a.options.success||!1;a.options.selector=a.options.selector||".b-lazy";a.options.separator=a.options.separator||"|";a.options.containerClass=a.options.container;a.options.container=a.options.containerClass?document.querySelectorAll(a.options.containerClass):!1;a.options.errorClass=a.options.errorClass||"b-error";a.options.breakpoints=a.options.breakpoints||!1;a.options.loadInvisible=a.options.loadInvisible||!1;a.options.successClass=a.options.successClass||"b-loaded";a.options.validateDelay=a.options.validateDelay||25;a.options.saveViewportOffsetDelay=a.options.saveViewportOffsetDelay||50;a.options.srcset=a.options.srcset||"data-srcset";a.options.src=u=a.options.src||"data-src";y=Element.prototype.closest;A=1<window.devicePixelRatio;f={};f.top=0-a.options.offset;f.left=0-a.options.offset;a.revalidate=function(){q(a)};a.load=function(a,b){var c=this.options;void 0===a.length?z(a,b,c):l(a,function(a){z(a,b,c)})};a.destroy=function(){var a=this._util;this.options.container&&l(this.options.container,function(b){k(b,"scroll",a.validateT)});k(window,"scroll",a.validateT);k(window,"resize",a.validateT);k(window,"resize",a.saveViewportOffsetT);a.count=0;a.elements.length=0;a.destroyed=!0};d.validateT=D(function(){m(a)},a.options.validateDelay,a);d.saveViewportOffsetT=D(function(){C(a.options.offset)},a.options.saveViewportOffsetDelay,a);C(a.options.offset);l(a.options.breakpoints,function(a){if(a.width>=window.screen.width)return u=a.src,!1});setTimeout(function(){q(a)})}});;
/**
 * @file
 * Cherries by @toddmotto, @cferdinandi, @adamfschwartz, @daniellmb.
 */
!function(t,e){"use strict";"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?module.exports=e():t.dBlazy=e()}(this,function(){"use strict";var t={};return t.matches=function(t,e){var n=Element.prototype;return n.matches||(n.matches=n.matchesSelector||n.mozMatchesSelector||n.msMatchesSelector||n.oMatchesSelector||n.webkitMatchesSelector||function(t){for(var e=(window.document||window.ownerDocument).querySelectorAll(t),n=e.length;--n>=0&&e.item(n)!==this;);return n>-1}),!!t.matches(e)},t.closest=function(e,n){for(;e&&e!==document;e=e.parentNode)if(t.matches(e,n))return e;return null},t.extend=Object.assign||function(t){t=t||{};for(var e=1,n=arguments.length;e<n;e++)if(arguments[e])for(var r in arguments[e])arguments[e].hasOwnProperty(r)&&(t[r]=arguments[e][r]);return t},t.forEach=function(t,e,n){var r=Object.prototype;if("[object Object]"===r.toString.call(t))for(var o in t)r.hasOwnProperty.call(t,o)&&e.call(n,t[o],o,t);else for(var c=0,a=t.length;c<a;c++)e.call(n,t[c],c,t)},t.hasClass=function(t,e){return t.classList?t.classList.contains(e):-1!==t.className.indexOf(e)},t.addClass=function(e,n){e.classList?e.classList.add(n):t.hasClass(e,n)||(e.className+=" "+n)},t.on=function(e,n,r,o){e&&e.addEventListener(n,function(e){for(var n=e.target;n&&n!==this;)t.matches(n,r)&&o.call(n,e),n=n.parentNode})},t.once=function(t){var e,n=!1;return function(){return n?e:(n=!0,e=t.apply(this,arguments),t=null,e)}},t.parse=function(t){try{return JSON.parse(t)}catch(t){return!1}},t.throttle=function(t,e,n){var r=0;return function(){var o=+new Date;o-r<e||(r=o,t.apply(n,arguments))}},t.resize=function(t,e){return window.onresize=function(){window.clearTimeout(e),e=window.setTimeout(t,200)},t},t.trigger=function(t,e,n){var r,o={detail:n||{},bubbles:!0,cancelable:!0};window.CustomEvent?r=new CustomEvent(e,o):(r=document.createEvent("CustomEvent"),r.initCustomEvent(e,!0,!0,o)),t.dispatchEvent(r)},t});
;
!function(o,t){"use strict";"function"==typeof define&&define.amd?define([window.dBlazy],t):"object"==typeof exports?module.exports=t(window.dBlazy):o.Bio=t(window.dBlazy)}(this,function(o){"use strict";function t(o){var t=this;t.options=i.extend({},t.defaults,o||{}),u=!1,d=!1,e(t)}function e(o){var t={rootMargin:o.options.rootMargin,threshold:o.options.threshold};o.options.selector=o.options.selector+":not(."+o.options.successClass+")",o.elms=(o.options.root||s).querySelectorAll(o.options.selector),o.count=o.elms.length,o.windowWidth=n.innerWidth||s.documentElement.clientWidth||s.body.clientWidth||n.screen.width,o.prepare(),o.observer=new IntersectionObserver(o.observing.bind(o),t),d||(o.observe(),d=!0)}var n=window,s=document,i=o,r=0,c=0,u=!1,d=!1,a=t.prototype;return a.constructor=t,a.count=0,a.counted=-1,a.erCounted=0,a._er=-1,a._ok=1,a.defaults={root:null,disconnect:!1,error:!1,success:!1,intersecting:!1,observing:!1,useAjax:!1,successClass:"b-loaded",selector:".b-lazy",errorClass:"b-error",bgClass:"b-bg",rootMargin:"0px",threshold:[0]},a.load=function(o){var t=this;t.isValid(o)?t.intersecting(o):i.forEach(o,function(o){t.isValid(o)&&t.intersecting(o)}),u||t.disconnect()},a.isLoaded=function(o){return i.hasClass(o,this.options.successClass)},a.isValid=function(o){return"object"==typeof o&&void 0===o.length&&!this.isLoaded(o)},a.prepare=function(){},a.revalidate=function(o){var t=this;(t.count!==t.counted||!0===o)&&c<t.counted&&(u=!1,t.elms=(t.options.root||s).querySelectorAll(t.options.selector),t.observe(),c++)},a.intersecting=function(o){var t=this;"function"==typeof t.options.intersecting&&t.options.intersecting(o,t.options),i.trigger(o,"bio.intersecting",{options:t.options}),t.lazyLoad(o),t.counted++,u||t.observer.unobserve(o)},a.lazyLoad=function(o){},a.success=function(o,t,e){var n=this;"function"==typeof n.options.success&&n.options.success(o,t,e,n.options),n.erCounted>0&&n.erCounted--},a.error=function(o,t,e){var n=this;"function"==typeof n.options.error&&n.options.error(o,t,e,n.options),n.erCounted++},a.loaded=function(o,t,e){var n=this;n[t===n._ok?"success":"error"](o,t,e),i.addClass(o,t===n._ok?n.options.successClass:n.options.errorClass)},a.equal=function(o,t){return o.nodeName.toLowerCase()===t},a.observe=function(){var o=this;r=o.elms.length,i.forEach(o.elms,function(t){o.isLoaded(t)||o.observer.observe(t)})},a.observing=function(o,t){var e=this;e.entries=o,u||(i.forEach(o,function(o){"function"==typeof e.options.observing&&e.options.observing(o,t,e.options),(o.isIntersecting||o.intersectionRatio>0)&&(e.isLoaded(o.target)||e.intersecting(o.target),r--)}),e.disconnect())},a.disconnect=function(o){var t=this;t.erCounted>0&&!o||((0===r||t.count===t.counted)&&t.options.disconnect||o)&&(t.observer.disconnect(),u=!0)},a.destroy=function(o){var t=this;t.disconnect(o),t.observer=null},a.disconnected=function(){return u},a.reinit=function(){u=!1,d=!1,e(this)},t});
;
!function(t,e){"use strict";"function"==typeof define&&define.amd?define([window.dBlazy,window.Bio],e):"object"==typeof exports?module.exports=e(window.dBlazy,window.Bio):t.BioMedia=e(window.dBlazy,window.Bio)}(this,function(t,e){"use strict";function r(t){return i.apply(this,arguments)}var o=t,i=e,a="data-src",n=["src"],s=["srcset","src"],c=r.prototype=Object.create(e.prototype);return c.constructor=r,c.removeAttrs=function(t,e){o.forEach(e,function(e){t.removeAttribute("data-"+e)})},c.setAttrs=function(t,e){var r=this;o.forEach(e,function(e){r.setAttr(t,e)})},c.setAttr=function(t,e,r){if(t.hasAttribute("data-"+e)){var o=t.getAttribute("data-"+e);"src"===e?t.src=o:t.setAttribute(e,o),r&&t.removeAttribute("data-"+e)}},c.prepare=function(t){return function(){var e=this;if(e.options.breakpoints){var r=[];o.forEach(e.options.breakpoints,function(t){if(n.push(t.src.replace("data-","")),t.width>=e.windowWidth)return a=t.src,r.push(a),!1}),r.length>0&&(a=r[0])}return t.call(this)}}(c.prepare),c.lazyLoad=function(t){return function(e){if(!e.hasAttribute("data-bio-hit")){var r=this,i=e.parentNode,a=r.equal(e,"img"),n=void 0===e.src&&o.hasClass(e,r.options.bgClass),s=i&&r.equal(i,"picture"),c=r.equal(e,"video");return s?(o.forEach(i.getElementsByTagName("source"),function(t){r.setAttr(t,"srcset",!0)}),r.setAttr(e,"src",!0),r.loaded(e,r._ok)):c?(o.forEach(e.getElementsByTagName("source"),function(t){r.setAttr(t,"src",!0)}),e.load(),r.loaded(e,r._ok)):a||n?r.setImage(e,n):e.getAttribute("data-src")&&e.hasAttribute("src")&&(r.setAttr(e,"src",!0),r.loaded(e,r._ok)),e.setAttribute("data-bio-hit",1),t.apply(this,arguments)}}}(c.lazyLoad),c.promise=function(t,e){var r=this;return new Promise(function(o,i){var n=new Image;n.src=t.getAttribute(e?a:"data-src"),t.hasAttribute("data-srcset")&&(n.srcset=t.getAttribute("data-srcset"));var c=function(){e?r.setBg(t):r.setAttrs(t,s)};n.onload=function(){c(),o(r._ok)},n.onerror=function(){c(),i(r._er)}})},c.setImage=function(t,e){var r=this;return r.promise(t,e).then(function(o){r.loaded(t,o),r.removeAttrs(t,e?n:s)}).catch(function(e){r.loaded(t,e)})},c.setBg=function(t){t.hasAttribute(a)&&(t.style.backgroundImage='url("'+t.getAttribute(a)+'")',t.removeAttribute("src"))},r});
;
!function(t,e,i,n,a,s){"use strict";function l(t){function i(t){var e=!!t.getAttribute("data-dimensions")&&n.parse(t.getAttribute("data-dimensions"));if(e){var i=Object.keys(e),a=i[0],s=i[i.length-1],l=function(t){return t>=r.windowWidth},o=i.filter(l).map(function(t){return e[t]}).shift();"undefined"===o&&(o=e[r.windowWidth>=s?s:a]),"undefined"!==o&&(t.style.paddingBottom=o+"%"),t.removeAttribute("data-ratio")}}function l(t){t.hasAttribute("style")||(t.style.paddingBottom=t.getAttribute("data-ratio")+"%"),t.removeAttribute("data-ratio")}var r=e.blazy,o=t.getAttribute("data-blazy"),d=o&&"1"!==o?n.parse(o):{},c=n.extend({},r.globals(),d),u=t.querySelectorAll("[data-dimensions]"),b=u.length>0,y=t.querySelectorAll("[data-ratio]"),g=y.length>0;r.options=c,r.init=r.run(c),n.resize(function(){r.windowWidth=a.innerWidth||s.documentElement.clientWidth||s.body.clientWidth||a.screen.width,b?n.forEach(u,i,t):g&&n.forEach(y,l,t),(r.isBlazy()||n.hasClass(t,"blazy--revalidate"))&&r.init.revalidate(!0)})(),n.addClass(t,"blazy--on")}e.blazy=e.blazy||{init:null,windowWidth:0,blazySettings:{},ioSettings:{},options:{},globals:function(){var t=this,e={success:t.clearing.bind(t),error:t.clearing.bind(t),selector:".b-lazy",errorClass:"b-error",successClass:"b-loaded"};return n.extend(t.blazySettings,t.ioSettings,e)},clearing:function(t){var e=this,i=n.hasClass(t,"b-responsive")&&t.hasAttribute("data-pfsrc");t.className=t.className.replace(/(\S+)loading/,"");var s=[n.closest(t,".is-loading"),n.closest(t,'[class*="loading"]')];n.forEach(s,function(t){null!==t&&(t.className=t.className.replace(/(\S+)loading/,""))}),a.picturefill&&i&&a.picturefill({reevaluate:!0,elements:[t]}),n.trigger(t,"blazy.done",{options:e.options})},isIo:function(){return this.ioSettings&&this.ioSettings.enabled&&"IntersectionObserver"in a},isBlazy:function(){return!this.isIo()&&"Blazy"in a},run:function(t){return this.isIo()?new BioMedia(t):new Blazy(t)}},e.behaviors.blazy={attach:function(t){var a=e.blazy,r=s.querySelector("[data-blazy]");if(a.blazySettings=i.blazy||{},a.ioSettings=i.blazyIo||{},null===r)return a.options=a.globals(),void(a.init=a.run(a.globals()));var o=s.querySelectorAll(".blazy:not(.blazy--on)");n.once(n.forEach(o,l))}}}(jQuery,Drupal,Drupal.settings,dBlazy,this,this.document);
;
