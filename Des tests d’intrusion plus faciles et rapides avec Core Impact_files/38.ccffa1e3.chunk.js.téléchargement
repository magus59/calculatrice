(window.webpackJsonp=window.webpackJsonp||[]).push([[38,4],{"9Xg1":function(e,t,n){"use strict";n.r(t);var r=n("nfbA"),o=n("O94r"),s=n.n(o),a=n("Za8o"),i=n("58kB"),c=n("4bA0"),u=n.n(c),l=n("da4L"),p=n("ERkP"),f=n.n(p),v=n("oPI6"),g=n("PjZB"),d=n("y0on"),m=n("0lfv"),b=n("EQxi"),y=/[/.](gif)$/i,h=function HtmlMessage(e){var t=e.body,n=e.attributes,o=e.isLastMessage,l=e.authorId,h=e.isLastGroup,A=e.style,M=void 0===A?{}:A,w=e.resolveMessageHeight,E=void 0===w?function(){}:w,P=e.className,O=e.viewerRecipientStatus,j=e.authorType;e.id;Object(p.useLayoutEffect)(function(){E()},[E,t]);var C=Object(p.useRef)(null),_=Object(m.n)(),R=Object(i.a)(l).recipient,x=Object(p.useMemo)(function(){return{parsedBody:u()(t,{replace:function replace(e){if("img"===e.name){var t,n,o,s,a=null!==(t=null===(n=e.attribs)||void 0===n?void 0:n.alt)&&void 0!==t?t:"",i=null!==(o=null===(s=e.attribs)||void 0===s?void 0:s.src)&&void 0!==o?o:"",l=new RegExp(y).test(i),v=Object(r.a)(Object(r.a)({},Object(c.attributesToProps)(e.attribs)),{},{onLoad:E});return l&&(v["data-giffer"]=i,v["data-giffer-alt"]=a),f.a.createElement("img",v)}if("text"===e.type){var g,d;if(e.parentNode&&"a"!==e.parentNode.name){var m=Object(b.e)(e.data);return f.a.createElement(f.a.Fragment,null,u()(m))}var h=null!==(g=null===(d=e.data)||void 0===d?void 0:d.split(/[\r\n]+/))&&void 0!==g?g:[];if(h.length>1)return f.a.createElement(f.a.Fragment,null,h.filter(Boolean).map(function(e,t){return f.a.createElement(p.Fragment,{key:t},e,f.a.createElement("br",null))}))}else if("a"===e.name){var A={href:e.attribs.href,target:"_blank",rel:"noopener noreferrer"};return f.a.createElement("a",A,Object(c.domToReact)(e.children))}}})}},[t,E]).parsedBody,I=o&&h&&j===g.b.USER&&O!==g.f.READ,L=I?Object(d.a)(R.name,n&&""!==n.preview?n.preview:t):null;return Object(a.a)(C,I),f.a.createElement("div",{className:s()("drift-widget-message--box drift-widget-message--HTML",P),style:M},I&&f.a.createElement(v.b,{message:L,"aria-live":"polite"}),f.a.createElement("div",{tabIndex:_?0:-1,ref:C},x))};t.default=function(e){return Object(l.h)(e.body)?null:f.a.createElement(h,e)}},QkDh:function(e,t){var n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(n){var r=new Uint8Array(16);e.exports=function whatwgRNG(){return n(r),r}}else{var o=new Array(16);e.exports=function mathRNG(){for(var e,t=0;t<16;t++)0===(3&t)&&(e=4294967296*Math.random()),o[t]=e>>>((3&t)<<3)&255;return o}}},"W+sf":function(e,t){for(var n=[],r=0;r<256;++r)n[r]=(r+256).toString(16).substr(1);e.exports=function bytesToUuid(e,t){var r=t||0,o=n;return[o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]]].join("")}},Wkzb:function(e,t,n){},gf09:function(e,t,n){var r=n("QkDh"),o=n("W+sf");e.exports=function v4(e,t,n){var s=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var a=(e=e||{}).random||(e.rng||r)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t)for(var i=0;i<16;++i)t[s+i]=a[i];return t||o(a)}},oPI6:function(e,t,n){"use strict";var r=n("ERkP"),o=n.n(r),s=(n("aWzz"),{border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",whiteSpace:"nowrap",padding:0,width:"1px",position:"absolute"}),a=function MessageBlock(e){var t=e.message,n=e["aria-live"];return o.a.createElement("div",{style:s,role:"log","aria-live":n},t||"")};a.propTypes={};var i=a;function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var c=function(e){function Announcer(){var t,n;!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Announcer);for(var r=arguments.length,o=Array(r),s=0;s<r;s++)o[s]=arguments[s];return t=n=_possibleConstructorReturn(this,e.call.apply(e,[this].concat(o))),n.state={assertiveMessage1:"",assertiveMessage2:"",politeMessage1:"",politeMessage2:"",oldPolitemessage:"",oldPoliteMessageId:"",oldAssertiveMessage:"",oldAssertiveMessageId:"",setAlternatePolite:!1,setAlternateAssertive:!1},_possibleConstructorReturn(n,t)}return function _inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(Announcer,e),Announcer.getDerivedStateFromProps=function getDerivedStateFromProps(e,t){var n=t.oldPolitemessage,r=t.oldPoliteMessageId,o=t.oldAssertiveMessage,s=t.oldAssertiveMessageId,a=e.politeMessage,i=e.politeMessageId,c=e.assertiveMessage,u=e.assertiveMessageId;return n!==a||r!==i?{politeMessage1:t.setAlternatePolite?"":a,politeMessage2:t.setAlternatePolite?a:"",oldPolitemessage:a,oldPoliteMessageId:i,setAlternatePolite:!t.setAlternatePolite}:o!==c||s!==u?{assertiveMessage1:t.setAlternateAssertive?"":c,assertiveMessage2:t.setAlternateAssertive?c:"",oldAssertiveMessage:c,oldAssertiveMessageId:u,setAlternateAssertive:!t.setAlternateAssertive}:null},Announcer.prototype.render=function render(){var e=this.state,t=e.assertiveMessage1,n=e.assertiveMessage2,r=e.politeMessage1,s=e.politeMessage2;return o.a.createElement("div",null,o.a.createElement(i,{"aria-live":"assertive",message:t}),o.a.createElement(i,{"aria-live":"assertive",message:n}),o.a.createElement(i,{"aria-live":"polite",message:r}),o.a.createElement(i,{"aria-live":"polite",message:s}))},Announcer}(r.Component);c.propTypes={};var u=c;function logContextWarning(){console.warn("Announcement failed, LiveAnnouncer context is missing")}var l=o.a.createContext({announceAssertive:logContextWarning,announcePolite:logContextWarning});var p=function(e){function LiveAnnouncer(t){!function LiveAnnouncer_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,LiveAnnouncer);var n=function LiveAnnouncer_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this,t));return n.announcePolite=function(e,t){n.setState({announcePoliteMessage:e,politeMessageId:t||""})},n.announceAssertive=function(e,t){n.setState({announceAssertiveMessage:e,assertiveMessageId:t||""})},n.state={announcePoliteMessage:"",politeMessageId:"",announceAssertiveMessage:"",assertiveMessageId:"",updateFunctions:{announcePolite:n.announcePolite,announceAssertive:n.announceAssertive}},n}return function LiveAnnouncer_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(LiveAnnouncer,e),LiveAnnouncer.prototype.render=function render(){var e=this.state,t=e.announcePoliteMessage,n=e.politeMessageId,r=e.announceAssertiveMessage,s=e.assertiveMessageId,a=e.updateFunctions;return o.a.createElement(l.Provider,{value:a},this.props.children,o.a.createElement(u,{assertiveMessage:r,assertiveMessageId:s,politeMessage:t,politeMessageId:n}))},LiveAnnouncer}(r.Component),f=n("gf09"),v=n.n(f);function AnnouncerMessage_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var g=function(e){function AnnouncerMessage(){var t,n;!function AnnouncerMessage_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,AnnouncerMessage);for(var r=arguments.length,o=Array(r),s=0;s<r;s++)o[s]=arguments[s];return t=n=AnnouncerMessage_possibleConstructorReturn(this,e.call.apply(e,[this].concat(o))),n.announce=function(){var e=n.props,t=e.message,r=e["aria-live"],o=e.announceAssertive,s=e.announcePolite;"assertive"===r&&o(t||"",v()()),"polite"===r&&s(t||"",v()())},AnnouncerMessage_possibleConstructorReturn(n,t)}return function AnnouncerMessage_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(AnnouncerMessage,e),AnnouncerMessage.prototype.componentDidMount=function componentDidMount(){this.announce()},AnnouncerMessage.prototype.componentDidUpdate=function componentDidUpdate(e){this.props.message!==e.message&&this.announce()},AnnouncerMessage.prototype.componentWillUnmount=function componentWillUnmount(){var e=this.props,t=e.clearOnUnmount,n=e.announceAssertive,r=e.announcePolite;!0!==t&&"true"!==t||(n(""),r(""))},AnnouncerMessage.prototype.render=function render(){return null},AnnouncerMessage}(r.Component);g.propTypes={};var d=g,m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},b=function LiveMessage(e){return o.a.createElement(l.Consumer,null,function(t){return o.a.createElement(d,m({},t,e))})};b.propTypes={};var y=b,h=function LiveMessenger(e){var t=e.children;return o.a.createElement(l.Consumer,null,function(e){return t(e)})};h.propTypes={};n.d(t,"a",function(){return p}),n.d(t,"b",function(){return y})},qfyu:function(e,t,n){"use strict";n.r(t);var r=n("ERkP"),o=n.n(r),s=n("9Xg1");n("Wkzb");t.default=function BotMessage(e){return o.a.createElement(s.default,Object.assign({},e,{className:"drift-widget-message--bot"}))}},y0on:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n("0lfv"),o=function getNewMessageAriaLabel(e,t){return Object(r.m)(t)?null:"Chat message".concat(e?" from "+e:"",': "').concat(t,'"')}}}]);